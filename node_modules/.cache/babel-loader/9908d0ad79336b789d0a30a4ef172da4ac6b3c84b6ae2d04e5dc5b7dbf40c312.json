{"ast":null,"code":"var _jsxFileName = \"/Users/a11111/Desktop/React2/src/Nav/NavLogin.js\",\n  _s = $RefreshSig$();\nimport { NavContent, NavBtn } from \"./NavContainer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { isModalClickedActions } from \"../store\";\nimport $ from \"jquery\";\nimport { useEffect } from \"react\";\nimport { KakaoLoginActions } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NavLogin = () => {\n  _s();\n  const dispatch = useDispatch();\n  const KakaoLoginUserNickName = useSelector(state => state.KakaoLogin.name);\n  let code = new URL(window.location.href).searchParams.get(\"code\");\n\n  // useEffect(() => {\n  //   if (!window.Kakao.isInitialized()) {\n  //     window.Kakao.init(\"3eba34b903142fe3966819d3854d6b11\");\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    if (code != null) {\n      $.ajax({\n        type: \"POST\",\n        url: \"https://kauth.kakao.com/oauth/token\",\n        data: {\n          grant_type: \"authorization_code\",\n          client_id: \"0d653a32b09aca7c870400f582b4dfa7\",\n          redirect_uri: \"http://localhost:3000/\",\n          code: code\n        },\n        contentType: \"application/x-www-form-urlencoded;charset=utf-8\",\n        dataType: null,\n        success: function (response) {\n          window.Kakao.Auth.setAccessToken(response.access_token);\n        },\n        error: function (jqXHR, error) {}\n      }).then(() => {\n        window.Kakao.API.request({\n          url: \"/v2/user/me\"\n        }).then(function (res) {\n          // console.log();\n          dispatch(KakaoLoginActions.setLoginUserName(JSON.stringify(res.properties.nickname)));\n          console.log(JSON.stringify(res.properties.nickname));\n          alert(JSON.stringify(res));\n        }).catch(function (err) {\n          console.log(\"failed to request user information: \" + JSON.stringify(err));\n          alert(\"failed to request user information: \" + JSON.stringify(err));\n        });\n      });\n    }\n  }, [code]);\n  return /*#__PURE__*/_jsxDEV(NavContent, {\n    onClick: () => {\n      dispatch(isModalClickedActions.toggle());\n    },\n    children: [KakaoLoginUserNickName === \"\" ? /*#__PURE__*/_jsxDEV(NavBtn, {\n      children: \"\\uB85C\\uADF8\\uC778/\\uD68C\\uC6D0\\uAC00\\uC785\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(NavBtn, {\n      children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NavBtn, {\n      children: \"\\uB85C\\uADF8\\uC778/\\uD68C\\uC6D0\\uAC00\\uC785\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this)\n  // <div className=\"navContent\">\n  //   <button>로그인/회원가입</button>\n  // </div>\n  ;\n};\n_s(NavLogin, \"j9i6+GKXKgy9QSvJyXY322ZBTmU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = NavLogin;\nexport default NavLogin;\nvar _c;\n$RefreshReg$(_c, \"NavLogin\");","map":{"version":3,"names":["NavContent","NavBtn","useSelector","useDispatch","isModalClickedActions","$","useEffect","KakaoLoginActions","jsxDEV","_jsxDEV","NavLogin","_s","dispatch","KakaoLoginUserNickName","state","KakaoLogin","name","code","URL","window","location","href","searchParams","get","ajax","type","url","data","grant_type","client_id","redirect_uri","contentType","dataType","success","response","Kakao","Auth","setAccessToken","access_token","error","jqXHR","then","API","request","res","setLoginUserName","JSON","stringify","properties","nickname","console","log","alert","catch","err","onClick","toggle","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/a11111/Desktop/React2/src/Nav/NavLogin.js"],"sourcesContent":["import { NavContent, NavBtn } from \"./NavContainer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { isModalClickedActions } from \"../store\";\nimport $ from \"jquery\";\nimport { useEffect } from \"react\";\nimport { KakaoLoginActions } from \"../store\";\n\nconst NavLogin = () => {\n  const dispatch = useDispatch();\n\n  const KakaoLoginUserNickName = useSelector((state) => state.KakaoLogin.name);\n\n  let code = new URL(window.location.href).searchParams.get(\"code\");\n\n  // useEffect(() => {\n  //   if (!window.Kakao.isInitialized()) {\n  //     window.Kakao.init(\"3eba34b903142fe3966819d3854d6b11\");\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    if (code != null) {\n      $.ajax({\n        type: \"POST\",\n        url: \"https://kauth.kakao.com/oauth/token\",\n        data: {\n          grant_type: \"authorization_code\",\n          client_id: \"0d653a32b09aca7c870400f582b4dfa7\",\n          redirect_uri: \"http://localhost:3000/\",\n          code: code,\n        },\n        contentType: \"application/x-www-form-urlencoded;charset=utf-8\",\n        dataType: null,\n        success: function (response) {\n          window.Kakao.Auth.setAccessToken(response.access_token);\n        },\n        error: function (jqXHR, error) {},\n      }).then(() => {\n        window.Kakao.API.request({\n          url: \"/v2/user/me\",\n        })\n          .then(function (res) {\n            // console.log();\n            dispatch(\n              KakaoLoginActions.setLoginUserName(\n                JSON.stringify(res.properties.nickname)\n              )\n            );\n            console.log(JSON.stringify(res.properties.nickname));\n            alert(JSON.stringify(res));\n          })\n          .catch(function (err) {\n            console.log(\n              \"failed to request user information: \" + JSON.stringify(err)\n            );\n            alert(\"failed to request user information: \" + JSON.stringify(err));\n          });\n      });\n    }\n  }, [code]);\n\n  return (\n    <NavContent\n      onClick={() => {\n        dispatch(isModalClickedActions.toggle());\n      }}\n    >\n      {KakaoLoginUserNickName === \"\" ? (\n        <NavBtn>로그인/회원가입</NavBtn>\n      ) : (\n        <NavBtn>로그아웃</NavBtn>\n      )}\n      <NavBtn>로그인/회원가입</NavBtn>\n    </NavContent>\n    // <div className=\"navContent\">\n    //   <button>로그인/회원가입</button>\n    // </div>\n  );\n};\n\nexport default NavLogin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}